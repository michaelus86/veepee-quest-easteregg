/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var e={910:(e,t,r)=>{r.r(t),r.d(t,{Properties:()=>s,VariableDescriptor:()=>i,bootstrapExtra:()=>Q,findLayerBoundaries:()=>g,findLayersBoundaries:()=>h,getLayersMap:()=>c,getVariables:()=>a,initDoors:()=>z,initPropertiesTemplates:()=>M,initVariableActionLayer:()=>H,openConfig:()=>n});class s{constructor(e){this.properties=null!=e?e:[]}get(e){const t=this.properties.filter((t=>t.name===e)).map((e=>e.value));if(t.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(0!==t.length)return t[0]}getString(e){return this.getByType(e,"string")}getNumber(e){return this.getByType(e,"number")}getBoolean(e){return this.getByType(e,"boolean")}getByType(e,t){const r=this.get(e);if(void 0!==r){if(typeof r!==t)throw new Error('Expected property "'+e+'" to have type "'+t+'"');return r}}mustGetString(e){return this.mustGetByType(e,"string")}mustGetNumber(e){return this.mustGetByType(e,"number")}mustGetBoolean(e){return this.mustGetByType(e,"boolean")}mustGetByType(e,t){const r=this.get(e);if(void 0===r)throw new Error('Property "'+e+'" is missing');if(typeof r!==t)throw new Error('Expected property "'+e+'" to have type "'+t+'"');return r}getType(e){const t=this.properties.filter((t=>t.name===e)).map((e=>e.type));if(t.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(0!==t.length)return t[0]}}const o="https://unpkg.com/@workadventure/scripting-api-extra@1.3.2/dist";class i{constructor(e){this.name=e.name,this.x=e.x,this.y=e.y,this.properties=new s(e.properties)}get isReadable(){const e=this.properties.getString("readableBy");return!e||WA.player.tags.includes(e)}get isWritable(){const e=this.properties.getString("writableBy");return!e||WA.player.tags.includes(e)}}function n(e){const t=e?"#"+e.join():"";WA.nav.openCoWebSite(o+"/configuration.html"+t)}async function a(e,t){const r=await WA.room.getTiledMap(),s=new Map;return p(r.layers,s,e,t),s}function p(e,t,r,s){for(const o of e)if("objectgroup"===o.type){for(const e of o.objects)if("variable"===e.type){if(r&&o.name!==r)continue;if(s&&!s.includes(e.name))continue;t.set(e.name,new i(e))}}else"group"===o.type&&p(o.layers,t,r,s)}let u;async function c(){return void 0===u&&(u=async function(){return function(e){const t=new Map;return l(e.layers,"",t),t}(await WA.room.getTiledMap())}()),u}function l(e,t,r){for(const s of e)"group"===s.type?l(s.layers,t+s.name+"/",r):(s.name=t+s.name,r.set(s.name,s))}function g(e){let t=1/0,r=1/0,s=0,o=0;const i=e.data;if("string"==typeof i)throw new Error("Unsupported tile layer data stored as string instead of CSV");for(let n=0;n<e.height;n++)for(let a=0;a<e.width;a++)0!==i[a+n*e.width]&&(t=Math.min(t,a),o=Math.max(o,a),r=Math.min(r,n),s=Math.max(s,n));return{top:r,left:t,right:o+1,bottom:s+1}}function h(e){let t=1/0,r=1/0,s=0,o=0;for(const i of e){const e=g(i);e.left<t&&(t=e.left),e.top<r&&(r=e.top),e.right>o&&(o=e.right),e.bottom>s&&(s=e.bottom)}return{top:r,left:t,right:o,bottom:s}}var d=Object.prototype.toString,b=Array.isArray||function(e){return"[object Array]"===d.call(e)};function m(e){return"function"==typeof e}function f(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function y(e,t){return null!=e&&"object"==typeof e&&t in e}var v=RegExp.prototype.test,A=/\S/;var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},P=/\s*/,W=/\s+/,w=/\s*=/,L=/\s*\}/,E=/#|\^|\/|>|\{|&|=|!/;function T(e){this.string=e,this.tail=e,this.pos=0}function C(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function I(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}T.prototype.eos=function(){return""===this.tail},T.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},T.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},C.prototype.push=function(e){return new C(e,this)},C.prototype.lookup=function(e){var t,r,s,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var i,n,a,p=this,u=!1;p;){if(e.indexOf(".")>0)for(i=p.view,n=e.split("."),a=0;null!=i&&a<n.length;)a===n.length-1&&(u=y(i,n[a])||(r=i,s=n[a],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(s))),i=i[n[a++]];else i=p.view[e],u=y(p.view,e);if(u){t=i;break}p=p.parent}o[e]=t}return m(t)&&(t=t.call(this.view)),t},I.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},I.prototype.parse=function(e,t){var r=this.templateCache,s=e+":"+(t||B.tags).join(":"),o=void 0!==r,i=o?r.get(s):void 0;return null==i&&(i=function(e,t){if(!e)return[];var r,s,o,i,n=!1,a=[],p=[],u=[],c=!1,l=!1,g="",h=0;function d(){if(c&&!l)for(;u.length;)delete p[u.pop()];else u=[];c=!1,l=!1}function m(e){if("string"==typeof e&&(e=e.split(W,2)),!b(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(f(e[0])+"\\s*"),s=new RegExp("\\s*"+f(e[1])),o=new RegExp("\\s*"+f("}"+e[1]))}m(t||B.tags);for(var y,S,C,I,G,x,V=new T(e);!V.eos();){if(y=V.pos,C=V.scanUntil(r))for(var M=0,k=C.length;M<k;++M)i=I=C.charAt(M),function(e,t){return v.call(e,t)}(A,i)?(l=!0,n=!0,g+=" "):(u.push(p.length),g+=I),p.push(["text",I,y,y+1]),y+=1,"\n"===I&&(d(),g="",h=0,n=!1);if(!V.scan(r))break;if(c=!0,S=V.scan(E)||"name",V.scan(P),"="===S?(C=V.scanUntil(w),V.scan(w),V.scanUntil(s)):"{"===S?(C=V.scanUntil(o),V.scan(L),V.scanUntil(s),S="&"):C=V.scanUntil(s),!V.scan(s))throw new Error("Unclosed tag at "+V.pos);if(G=">"==S?[S,C,y,V.pos,g,h,n]:[S,C,y,V.pos],h++,p.push(G),"#"===S||"^"===S)a.push(G);else if("/"===S){if(!(x=a.pop()))throw new Error('Unopened section "'+C+'" at '+y);if(x[1]!==C)throw new Error('Unclosed section "'+x[1]+'" at '+y)}else"name"===S||"{"===S||"&"===S?l=!0:"="===S&&m(C)}if(d(),x=a.pop())throw new Error('Unclosed section "'+x[1]+'" at '+V.pos);return function(e){for(var t,r=[],s=r,o=[],i=0,n=e.length;i<n;++i)switch((t=e[i])[0]){case"#":case"^":s.push(t),o.push(t),s=t[4]=[];break;case"/":o.pop()[5]=t[2],s=o.length>0?o[o.length-1][4]:r;break;default:s.push(t)}return r}(function(e){for(var t,r,s=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(s.push(t),r=t));return s}(p))}(e,t),o&&r.set(s,i)),i},I.prototype.render=function(e,t,r,s){var o=this.getConfigTags(s),i=this.parse(e,o),n=t instanceof C?t:new C(t,void 0);return this.renderTokens(i,n,r,e,s)},I.prototype.renderTokens=function(e,t,r,s,o){for(var i,n,a,p="",u=0,c=e.length;u<c;++u)a=void 0,"#"===(n=(i=e[u])[0])?a=this.renderSection(i,t,r,s,o):"^"===n?a=this.renderInverted(i,t,r,s,o):">"===n?a=this.renderPartial(i,t,r,o):"&"===n?a=this.unescapedValue(i,t):"name"===n?a=this.escapedValue(i,t,o):"text"===n&&(a=this.rawValue(i)),void 0!==a&&(p+=a);return p},I.prototype.renderSection=function(e,t,r,s,o){var i=this,n="",a=t.lookup(e[1]);if(a){if(b(a))for(var p=0,u=a.length;p<u;++p)n+=this.renderTokens(e[4],t.push(a[p]),r,s,o);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)n+=this.renderTokens(e[4],t.push(a),r,s,o);else if(m(a)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,s.slice(e[3],e[5]),(function(e){return i.render(e,t,r,o)})))&&(n+=a)}else n+=this.renderTokens(e[4],t,r,s,o);return n}},I.prototype.renderInverted=function(e,t,r,s,o){var i=t.lookup(e[1]);if(!i||b(i)&&0===i.length)return this.renderTokens(e[4],t,r,s,o)},I.prototype.indentPartial=function(e,t,r){for(var s=t.replace(/[^ \t]/g,""),o=e.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!r)&&(o[i]=s+o[i]);return o.join("\n")},I.prototype.renderPartial=function(e,t,r,s){if(r){var o=this.getConfigTags(s),i=m(r)?r(e[1]):r[e[1]];if(null!=i){var n=e[6],a=e[5],p=e[4],u=i;0==a&&p&&(u=this.indentPartial(i,p,n));var c=this.parse(u,o);return this.renderTokens(c,t,r,u,s)}}},I.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},I.prototype.escapedValue=function(e,t,r){var s=this.getConfigEscape(r)||B.escape,o=t.lookup(e[1]);if(null!=o)return"number"==typeof o&&s===B.escape?String(o):s(o)},I.prototype.rawValue=function(e){return e[1]},I.prototype.getConfigTags=function(e){return b(e)?e:e&&"object"==typeof e?e.tags:void 0},I.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!b(e)?e.escape:void 0};var B={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){G.templateCache=e},get templateCache(){return G.templateCache}},G=new I;B.clearCache=function(){return G.clearCache()},B.parse=function(e,t){return G.parse(e,t)},B.render=function(e,t,r,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(b(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return G.render(e,t,r,s)},B.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return S[e]}))},B.Scanner=T,B.Context=C,B.Writer=I;const x=B;class V{constructor(e,t){this.template=e,this.state=t,this.ast=x.parse(e)}getValue(){return void 0===this.value&&(this.value=x.render(this.template,this.state)),this.value}onChange(e){const t=[];for(const r of this.getUsedVariables().values())t.push(this.state.onVariableChange(r).subscribe((()=>{const t=x.render(this.template,this.state);t!==this.value&&(this.value=t,e(this.value))})));return{unsubscribe:()=>{for(const e of t)e.unsubscribe()}}}isPureString(){return 0===this.ast.length||1===this.ast.length&&"text"===this.ast[0][0]}getUsedVariables(){const e=new Set;return this.recursiveGetUsedVariables(this.ast,e),e}recursiveGetUsedVariables(e,t){for(const r of e){const e=r[0],s=r[1],o=r[4];["name","&","#","^"].includes(e)&&t.add(s),void 0!==o&&"string"!=typeof o&&this.recursiveGetUsedVariables(o,t)}}}async function M(){var e;const t=await c();for(const[r,s]of t.entries()){const t=null!==(e=s.properties)&&void 0!==e?e:[];for(const e of t){if("int"===e.type||"bool"===e.type||"object"===e.type||"string"!=typeof e.value)continue;const t=new V(e.value,WA.state);if(t.isPureString())continue;const s=t.getValue();k(r,e.name,s),t.onChange((t=>{k(r,e.name,t)}))}}}function k(e,t,r){WA.room.setProperty(e,t,r),"visible"===t&&(r?WA.room.showLayer(e):WA.room.hideLayer(e))}let N,O,j=0,_=0;function R(e){if(WA.state[e.name]){let t=e.properties.mustGetString("openLayer");for(const e of t.split("\n"))WA.room.showLayer(e);t=e.properties.mustGetString("closeLayer");for(const e of t.split("\n"))WA.room.hideLayer(e)}else{let t=e.properties.mustGetString("openLayer");for(const e of t.split("\n"))WA.room.hideLayer(e);t=e.properties.mustGetString("closeLayer");for(const e of t.split("\n"))WA.room.showLayer(e)}}function D(e){return e.map((e=>N.get(e))).filter((e=>"tilelayer"===(null==e?void 0:e.type)))}function F(e){const t=h(D(e)),r=32*((t.right-t.left)/2+t.left),s=32*((t.bottom-t.top)/2+t.top);return Math.sqrt(Math.pow(j-r,2)+Math.pow(_-s,2))}function U(e){WA.state.onVariableChange(e.name).subscribe((()=>{WA.state[e.name]?function(e){const t=e.properties.getString("openSound"),r=e.properties.getNumber("soundRadius");let s=1;if(r){const t=F(e.properties.mustGetString("openLayer").split("\n"));if(t>r)return;s=1-t/r}t&&WA.sound.loadSound(t).play({volume:s})}(e):function(e){const t=e.properties.getString("closeSound"),r=e.properties.getNumber("soundRadius");let s=1;if(r){const t=F(e.properties.mustGetString("closeLayer").split("\n"));if(t>r)return;s=1-t/r}t&&WA.sound.loadSound(t).play({volume:s})}(e),R(e)})),R(e)}function Y(e,t,r,s){const o=e.name;let i,n,a=!1;const p=r.getString("tag");let u=!0;p&&!WA.player.tags.includes(p)&&(u=!1);const c=!!p;function l(){var e;i&&i.remove(),i=WA.ui.displayActionMessage({message:null!==(e=r.getString("closeTriggerMessage"))&&void 0!==e?e:"Press SPACE to close the door",callback:()=>{WA.state[t.name]=!1,g()}})}function g(){var e;i&&i.remove(),i=WA.ui.displayActionMessage({message:null!==(e=r.getString("openTriggerMessage"))&&void 0!==e?e:"Press SPACE to open the door",callback:()=>{WA.state[t.name]=!0,l()}})}function d(){n&&(WA.room.website.delete(n.name),n=void 0)}WA.room.onEnterLayer(o).subscribe((()=>{a=!0,r.getBoolean("autoOpen")&&u?WA.state[t.name]=!0:WA.state[t.name]||(!c||u)&&c||!r.getString("code")&&!r.getString("codeVariable")?u&&(WA.state[t.name]?l():g()):function(e){const r=h(D(t.properties.mustGetString("closeLayer").split("\n")));n=WA.room.website.create({name:"doorKeypad"+e,url:s+"/keypad.html#"+encodeURIComponent(e),position:{x:32*r.right,y:32*r.top,width:96,height:128},allowApi:!0})}(o)})),WA.room.onLeaveLayer(o).subscribe((()=>{a=!1,r.getBoolean("autoClose")&&(WA.state[t.name]=!1),i&&i.remove(),d()})),WA.state.onVariableChange(t.name).subscribe((()=>{a&&(r.getBoolean("autoClose")||!0!==WA.state[t.name]||l(),n&&!0===WA.state[t.name]&&d(),r.getBoolean("autoOpen")||!1!==WA.state[t.name]||g())}))}function $(e){void 0===WA.state[e.name]&&(WA.state[e.name]=0),WA.state.onVariableChange(e.name).subscribe((()=>{WA.state[e.name]&&function(e){const t=e.properties.mustGetString("bellSound"),r=e.properties.getNumber("soundRadius");let s=1;if(r){const t=Math.sqrt(Math.pow(e.x-j,2)+Math.pow(e.y-_,2));if(t>r)return;s=1-t/r}WA.sound.loadSound(t).play({volume:s})}(e)}))}function q(e,t,r){let s;const o=t.getString("bellPopup");WA.room.onEnterLayer(r).subscribe((()=>{var r;o?s=WA.ui.openPopup(o,"",[{label:null!==(r=t.getString("bellButtonText"))&&void 0!==r?r:"Ring",callback:()=>{WA.state[e]=WA.state[e]+1}}]):WA.state[e]=WA.state[e]+1})),WA.room.onLeaveLayer(r).subscribe((()=>{s&&(s.close(),s=void 0)}))}async function z(e){e=null!=e?e:o;const t=await a();N=await c();for(const e of t.values())e.properties.get("door")&&U(e),e.properties.get("bell")&&$(e);for(const r of N.values()){const o=new s(r.properties),i=o.getString("doorVariable");if(i&&"tilelayer"===r.type){const s=t.get(i);if(void 0===s)throw new Error('Cannot find variable "'+i+'" referred in the "doorVariable" property of layer "'+r.name+'"');Y(r,s,o,e)}const n=o.getString("bellVariable");n&&q(n,o,r.name)}WA.player.onPlayerMove((e=>{j=e.x,_=e.y}))}function H(e,t){const r=e.getString("bindVariable");r&&function(e,t,r,s,o,i){i&&!WA.player.tags.includes(i)||(void 0!==r&&WA.room.onEnterLayer(t).subscribe((()=>{o||(WA.state[e]=r)})),void 0!==s&&WA.room.onLeaveLayer(t).subscribe((()=>{WA.state[e]=s})))}(r,t,e.get("enterValue"),e.get("leaveValue"),e.getString("triggerMessage"),e.getString("tag"))}function K(e,t,r){let s;const o=r.getString("openConfigAdminTag");let i=!0;function a(){WA.nav.closeCoWebSite()}o&&!WA.player.tags.includes(o)&&(i=!1),WA.room.onEnterLayer(t).subscribe((()=>{const t=r.getString("openConfigTrigger");var o;i&&(t&&"onaction"===t?(s&&s.remove(),s=WA.ui.displayActionMessage({message:null!==(o=r.getString("openConfigTriggerMessage"))&&void 0!==o?o:"Press SPACE or touch here to configure",callback:()=>n(e)})):n(e))})),WA.room.onLeaveLayer(t).subscribe((()=>{s?(s.remove(),a()):a()}))}const Z=[{lowerBound:0,uppperBound:.5,config:{width:250,height:390,scale:1}},{lowerBound:.5,uppperBound:.8,config:{width:224,height:350,scale:.9}},{lowerBound:.8,uppperBound:1.25,config:{width:132,height:211,scale:.53}},{lowerBound:1.25,uppperBound:2.28,config:{width:64,height:99,scale:.25}},{lowerBound:1.25,config:{width:39,height:63,scale:.16}}],J=[{lowerBound:0,uppperBound:1,config:{width:427,height:270,scale:1}},{lowerBound:1,uppperBound:1.9,config:{width:300,height:188,scale:.7}},{lowerBound:1.9,uppperBound:3.5,config:{width:150,height:94,scale:.35}},{lowerBound:3.5,uppperBound:5,config:{width:93,height:58,scale:.21}},{lowerBound:4,config:{width:75,height:46,scale:.17}}];function Q(){return WA.onInit().then((()=>{z().catch((e=>console.error(e))),async function(){const e=await c();for(const t of e.values())H(new s(t.properties),t.name)}().catch((e=>console.error(e))),async function(e){const t=await WA.room.getTiledMap();e=null!=e?e:o,O=await c();const r=t.layers.find((e=>"configuration"===e.name));if(r){const t=new s(r.properties).getString("tag");t&&!WA.player.tags.includes(t)||WA.ui.registerMenuCommand("Configure the room",(()=>{WA.nav.openCoWebSite(e+"/configuration.html",!0)}));for(const e of O.values()){const t=new s(e.properties),r=t.getString("openConfig");r&&"tilelayer"===e.type&&K(r.split(","),e.name,t)}}}().catch((e=>console.error(e))),M().catch((e=>console.error(e))),async function(){var e;const t=WA.player.state.tutorialDone,r=/Mobi|Android/i.test(navigator.userAgent),s=await WA.room.getTiledMap(),i=await(null===(e=s.properties)||void 0===e?void 0:e.find((e=>"tutorial"===e.name))),n=i&&i.value;if(!t&&n){!function(e){let t={allow:"",name:"tutorial",url:o+"/tutorial.html",position:{height:224,width:407,x:16,y:-112},visible:!0,allowApi:!0,origin:"player",scale:.9};e&&(t={...t,position:{x:32,y:-225,height:390,width:250},scale:1}),WA.room.website.create(t)}(r);let e,t=await WA.player.getPosition();const s=await WA.room.website.get("tutorial"),i=()=>{const r=t.x+s.x+s.width>e.x+e.width,o=t.x+s.x<e.x,i=t.y+s.y+s.height>e.y+e.height,n=t.y+s.y<e.y;r?s.x=-s.width-24:o&&(s.x=24),i?s.y=-s.height:n&&(s.y=16)},n=e=>{s.width=e.width,s.height=e.height,s.scale=e.scale},a=e=>{const t=(r?Z:J).filter((t=>{if(t.lowerBound&&t.uppperBound)return t.lowerBound<e&&e<=t.uppperBound;if(t.lowerBound&&!t.uppperBound)return t.lowerBound<e;if(!t.lowerBound&&t.uppperBound)return e<=t.uppperBound;throw new Error(`Zoom level of: ${e} could not fit in any of the desktopConfig's ranges.`)}));n(t[0].config)},p=()=>{if(void 0===e)return;const t=e.zoom;a(t),i()};WA.player.onPlayerMove((e=>{t=e,p()})),WA.camera.onCameraUpdate().subscribe((t=>{e=t,p()})),WA.player.state.tutorialDone=!0}}().catch((e=>console.error(e)))})).catch((e=>console.error(e)))}},24:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BarceloneRooftop=void 0;const s=r(651);class o{constructor(){new s.TicTacToe}}t.BarceloneRooftop=o,o.mapIsLoaded=()=>WA.room.id.search("barcelone-rooftop.json")>-1},441:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TapSound=void 0;class s{}t.TapSound=s,r=s,s.file="./sounds/tap.mp3",s.defaultConfig={volume:.5,loop:!1,rate:1,detune:1,delay:0,seek:0,mute:!1},s.getSoundInstance=()=>(r.instance||(r.instance=WA.sound.loadSound(r.file)),r.instance),s.play=(e={})=>{const t=r.getSoundInstance(),s=Object.assign(Object.assign({},r.defaultConfig),e);t.play(s)},s.stop=()=>{r.getSoundInstance().stop()}},651:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TicTacToe=void 0;const s=r(441);t.TicTacToe=class{constructor(){this.stepDuration=1e3,this.triggerIdGameSurface="tictactoe/triggerGameSurface",this.triggerIdGameGrid="tictactoe/triggerGameGrid",this.triggerIdReset="tictactoe/triggerReset",this.crossLayer="tictactoe/cross",this.circleLayer="tictactoe/circle",this.remoteGameGridVariableName="tictactoeGameGrid",this.resetVariableName="tictactoeResetCount",this.drawTypeVariableName="tictactoeDrawType",this.isPlayerInGameSurface=!1,this.gameGridIntervals=[],this.gameGridDrawType="circle",this.defaultGameGrid=[{id:1,type:null},{id:2,type:null},{id:3,type:null},{id:4,type:null},{id:5,type:null},{id:6,type:null},{id:7,type:null},{id:8,type:null},{id:9,type:null}],this.onTriggerGameSurface=e=>{this.isPlayerInGameSurface=e},this.changeDrawType=e=>{this.gameGridDrawType=e},this.onTriggerReset=()=>{const e=this.resetVariableName,t=(WA.state.loadVariable(e)||0)+1;WA.state.saveVariable(e,t)},this.registerGameGridTriggers=()=>{const e=this.defaultGameGrid,t=this.triggerIdGameGrid;e.map((e=>{const{id:r}=e,s=t+r;WA.room.onEnterLayer(s).subscribe((()=>this.onEnterLayer(r))),WA.room.onLeaveLayer(s).subscribe((()=>this.onLeaveLayer(r)))}))},this.onEnterLayer=e=>{const t=this.gameGridDrawType,r=this.stepDuration,s=setInterval((()=>{clearInterval(s),this.updateGameGrid(e,t)}),r),o={id:e,interval:s};this.gameGridIntervals.push(o)},this.onLeaveLayer=e=>{const t=this.gameGridIntervals,r=t.filter((t=>t.id!==e));this.gameGridIntervals=r,t.map((t=>{e===t.id&&clearInterval(t.interval)}))},this.redrawGameGridReset=()=>{const e=this.remoteGameGridVariableName,t=this.defaultGameGrid;WA.state.saveVariable(e,t)},this.updateGameGrid=(e,t)=>{const r=this.remoteGameGridVariableName,s=this.drawTypeVariableName,o="circle"===this.gameGridDrawType?"cross":"circle",i=this.defaultGameGrid,n=(WA.state.loadVariable(r)||i).map((r=>{const s=Object.assign({},r);return s.id===e&&(s.type=t),s}));WA.state.saveVariable(r,n),WA.state.saveVariable(s,o)},this.redrawGameGrid=e=>{const t=!e.filter((e=>null!==e.type)).length,r=this.isPlayerInGameSurface;!t&&r&&s.TapSound.play(),e.map((e=>{const{id:t,type:r}=e;"circle"===r&&this.drawCircle(t),"cross"===r&&this.drawCross(t),null===r&&(this.eraseCircle(t),this.eraseCross(t))}))};const e=this.resetVariableName,t=this.remoteGameGridVariableName,r=this.drawTypeVariableName,o=this.defaultGameGrid,i=WA.state.loadVariable(t)||o,n=this.gameGridDrawType,a=WA.state.loadVariable(r)||n;this.registerGameGridTriggers(),WA.room.onEnterLayer(this.triggerIdReset).subscribe(this.onTriggerReset),WA.room.onEnterLayer(this.triggerIdGameSurface).subscribe((()=>this.onTriggerGameSurface(!0))),WA.room.onLeaveLayer(this.triggerIdGameSurface).subscribe((()=>this.onTriggerGameSurface(!1))),WA.state.onVariableChange(t).subscribe(this.redrawGameGrid),WA.state.onVariableChange(e).subscribe(this.redrawGameGridReset),WA.state.onVariableChange(r).subscribe(this.changeDrawType),this.redrawGameGrid(i),this.changeDrawType(a)}drawCircle(e){const t=this.circleLayer+e;WA.room.showLayer(t)}drawCross(e){const t=this.crossLayer+e;WA.room.showLayer(t)}eraseCircle(e){const t=this.circleLayer+e;WA.room.hideLayer(t)}eraseCross(e){const t=this.crossLayer+e;WA.room.hideLayer(t)}}},521:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Barcelone=void 0;const s=r(26),o=r(208),i=r(222),n=r(645),a=r(756),p=r(193),u=r(306),c=r(471),l=r(34),g=r(808),h=r(459);class d{constructor(){const e=new i.SolutionStatus;new s.DestroyContructionAreaTrigger,new o.ReadmeEastercodeTrigger,new u.SurrenderEastercodeTrigger(e),new n.SolutionEastercodeTrigger(e),new a.EastereggFlipchartTrigger(e),new p.EastereggAppleboxTrigger(e),new c.EastereggScissorsTrigger(e),new l.EastereggComputerTrigger(e),new g.EastereggLampTrigger(e),new h.EastereggPlantTrigger(e)}}t.Barcelone=d,d.mapIsLoaded=()=>WA.room.id.search("barcelone.json")>-1},989:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EasterreggSound=void 0;class s{}t.EasterreggSound=s,r=s,s.file="./sounds/easteregg.mp3",s.defaultConfig={volume:.5,loop:!1,rate:1,detune:1,delay:0,seek:0,mute:!1},s.getSoundInstance=()=>(r.instance||(r.instance=WA.sound.loadSound(r.file)),r.instance),s.play=(e={})=>{const t=r.getSoundInstance(),s=Object.assign(Object.assign({},r.defaultConfig),e);t.play(s)},s.stop=()=>{r.getSoundInstance().stop()}},222:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SolutionStatus=void 0,t.SolutionStatus=class{constructor(){this.getSolutionNumbers=()=>this.solution,this.foundFlipchart=()=>this.solution[0]="0",this.foundApplebox=()=>this.solution[1]="9",this.foundScissors=()=>this.solution[2]="0",this.foundComputer=()=>this.solution[3]="3",this.foundLamp=()=>this.solution[4]="6",this.foundPlant=()=>this.solution[5]="2",this.solveAll=()=>{this.foundFlipchart(),this.foundApplebox(),this.foundScissors(),this.foundComputer(),this.foundLamp(),this.foundPlant()},this.solution=["_","_","_","_","_","_"]}}},26:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DestroyContructionAreaTrigger=void 0,t.DestroyContructionAreaTrigger=class{constructor(){this.triggerIdAxe="trigger/destroyConstructionAreaAxeTrigger",this.triggerIdLift="trigger/destroyConstructionAreaLiftTrigger",this.openPopup=()=>{const e=this.getPopupButtons();this.popup=WA.ui.openPopup("destroyConstructionAreaPopup","Do you want to destroy the construction area?",e)},this.getPopupButtons=()=>[{label:"No",className:"normal",callback:e=>e.close()},{label:"Yes",className:"warning",callback:e=>{e.close(),this.deactivateConstructionArea()}}],this.closePopup=()=>{this.popup.close()},this.deactivateConstructionArea=()=>{WA.state.saveVariable("constructionAreaIsOn",!1),this.destroyConstruction(!1)},this.destroyConstruction=e=>{e||(this.triggerEnterSubscriberAxe.unsubscribe(),this.triggerEnterSubscriberLift.unsubscribe(),WA.room.hideLayer("constructionAreaImage"),WA.room.hideLayer("destroyConstructionAreaImage"),WA.room.setTiles([{x:13,y:12,tile:null,layer:"collisions"},{x:13,y:13,tile:null,layer:"collisions"}]))},this.triggerEnterSubscriberAxe=WA.room.onEnterLayer(this.triggerIdAxe).subscribe(this.openPopup),this.triggerEnterSubscriberLift=WA.room.onEnterLayer(this.triggerIdLift).subscribe(this.deactivateConstructionArea),this.triggerLeaveSubscriberAxe=WA.room.onLeaveLayer(this.triggerIdAxe).subscribe(this.closePopup),WA.state.onVariableChange("constructionAreaIsOn").subscribe(this.destroyConstruction)}}},193:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EastereggAppleboxTrigger=void 0;const s=r(989);t.EastereggAppleboxTrigger=class{constructor(e){this.triggerId="trigger/eastereggAppleboxTrigger",this.openPopup1=()=>{const e=this.getPopup1Buttons();this.popup1=WA.ui.openPopup("eastereggAppleboxPopup","Do you want to eat an apple?",e)},this.openPopup2=()=>{const e=this.getPopup2Buttons();this.popup2=WA.ui.openPopup("eastereggAppleboxPopup","There seems to be a bad apple. Do you want it?",e)},this.openPopup3=()=>{const e=this.getPopup3Buttons();this.popup2=WA.ui.openPopup("eastereggAppleboxPopup","Congratulations!\nYou've found an easteregg behind the bad apple. Pretty good!",e),this.triggerEnterSubscriber.unsubscribe(),this.solutionStatus.foundApplebox(),s.EasterreggSound.play()},this.getPopup1Buttons=()=>[{label:"No",className:"primary",callback:e=>e.close()},{label:"Yes",className:"primary",callback:e=>{e.close(),this.openPopup2()}}],this.getPopup2Buttons=()=>[{label:"No",className:"primary",callback:e=>e.close()},{label:"Yes",className:"primary",callback:e=>{e.close(),this.openPopup3()}}],this.getPopup3Buttons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closeAllPopups=()=>{this.popup1&&this.popup1.close(),this.popup2&&this.popup2.close(),this.popup3&&this.popup3.close()},this.solutionStatus=e,this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup1),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closeAllPopups)}}},34:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EastereggComputerTrigger=void 0;const s=r(989);t.EastereggComputerTrigger=class{constructor(e){this.triggerId="trigger/eastereggComputerTrigger",this.computerVariableName="eastereggComputerIsOn",this.hasFoundEasteregg=!1,this.openPopup=()=>{const e=this.getPopupButtons();this.hasFoundEasteregg||(this.popup=WA.ui.openPopup("eastereggComputerPopup","Congratulations!\nYou've found an easteregg to switch the computers on and off. Awesome!",e),s.EasterreggSound.play()),this.solutionStatus.foundComputer(),this.toggleComputerStatus(),this.hasFoundEasteregg=!0},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closePopup=()=>{this.popup.close()},this.toggleComputerStatus=()=>{const e=this.computerVariableName,t=!0===WA.state.loadVariable(e);WA.state.saveVariable(e,!t)},this.refreshComputerStatus=e=>{e?WA.room.showLayer("computer-on"):WA.room.hideLayer("computer-on")};const t=this.computerVariableName,r=WA.state.loadVariable(t);this.refreshComputerStatus(r),this.solutionStatus=e,this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closePopup),WA.state.onVariableChange(t).subscribe(this.refreshComputerStatus)}}},756:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EastereggFlipchartTrigger=void 0;const s=r(989);t.EastereggFlipchartTrigger=class{constructor(e){this.triggerId="trigger/eastereggFlipchartTrigger",this.openPopup=()=>{const e=this.getPopupButtons();this.popup=WA.ui.openPopup("eastereggFlipchartPopup","Congratulations!\nYou've found an easteregg behind the flipchart. Awesome!",e),this.triggerEnterSubscriber.unsubscribe(),this.solutionStatus.foundFlipchart(),s.EasterreggSound.play()},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closePopup=()=>{this.popup.close()},this.solutionStatus=e,this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closePopup)}}},808:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EastereggLampTrigger=void 0;const s=r(989);t.EastereggLampTrigger=class{constructor(e){this.triggerId="trigger/eastereggLampTrigger",this.lampVariableName="eastereggLampIsOn",this.hasFoundEasteregg=!1,this.openPopup=()=>{const e=this.getPopupButtons();this.hasFoundEasteregg||(this.popup=WA.ui.openPopup("eastereggLampPopup","Congratulations!\nYou've found an easteregg to switch the lamps on and off. Nice!",e),s.EasterreggSound.play()),this.solutionStatus.foundLamp(),this.toggleLampStatus(),this.hasFoundEasteregg=!0},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closePopup=()=>{this.popup.close()},this.toggleLampStatus=()=>{const e=this.lampVariableName,t=!0===WA.state.loadVariable(e);WA.state.saveVariable(e,!t)},this.refreshLampStatus=e=>{e?WA.room.showLayer("lamp-on"):WA.room.hideLayer("lamp-on")};const t=this.lampVariableName,r=WA.state.loadVariable(t);this.refreshLampStatus(r),this.solutionStatus=e,this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closePopup),WA.state.onVariableChange(t).subscribe(this.refreshLampStatus)}}},459:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EastereggPlantTrigger=void 0;const s=r(989);t.EastereggPlantTrigger=class{constructor(e){this.triggerIdPlant="trigger/eastereggPlantTrigger",this.triggerIdWater="trigger/eastereggWaterTrigger",this.hasWater=!1,this.openPopupWater=()=>{const e=this.getPopupButtons();this.popupWater=WA.ui.openPopup("eastereggWaterPopup","I've fetched some water. But what can I do with it?",e),this.hasWater=!0},this.openPopupPlant=()=>{const e=this.getPopupButtons();this.hasWater&&(this.popupPlant=WA.ui.openPopup("eastereggPlantPopup","Congratulations!\nYou've found the easteregg to water the plant.",e),this.triggerEnterSubscriberWater.unsubscribe(),this.triggerEnterSubscriberPlant.unsubscribe(),this.solutionStatus.foundPlant(),WA.room.hideLayer("dry-plant"),s.EasterreggSound.play())},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closeAllPopups=()=>{this.popupWater&&this.popupWater.close(),this.popupPlant&&this.popupPlant.close()},this.solutionStatus=e,this.triggerEnterSubscriberWater=WA.room.onEnterLayer(this.triggerIdWater).subscribe(this.openPopupWater),this.triggerLeaveSubscriberWater=WA.room.onLeaveLayer(this.triggerIdWater).subscribe(this.closeAllPopups),this.triggerEnterSubscriberPlant=WA.room.onEnterLayer(this.triggerIdPlant).subscribe(this.openPopupPlant),this.triggerLeaveSubscriberPlant=WA.room.onLeaveLayer(this.triggerIdPlant).subscribe(this.closeAllPopups)}}},471:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EastereggScissorsTrigger=void 0;const s=r(989);t.EastereggScissorsTrigger=class{constructor(e){this.triggerId1="trigger/eastereggScissorsTrigger1",this.triggerId2="trigger/eastereggScissorsTrigger2",this.triggerId3="trigger/eastereggScissorsTrigger3",this.triggerId4="trigger/eastereggScissorsTrigger4",this.triggerId5="trigger/eastereggScissorsTrigger5",this.triggerId6="trigger/eastereggScissorsTrigger6",this.triggerId7="trigger/eastereggScissorsTrigger7",this.scissorsFound={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1},this.openPopup1=()=>{const e=this.foundScissors(1),t="You've found a scissors on the tube."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup1=WA.ui.openPopup("eastereggScissorsPopup1",t,r),this.triggerEnterSubscriber1.unsubscribe()},this.openPopup2=()=>{const e=this.foundScissors(2),t="You've found a scissors on the bench."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup2=WA.ui.openPopup("eastereggScissorsPopup2",t,r),this.triggerEnterSubscriber2.unsubscribe()},this.openPopup3=()=>{const e=this.foundScissors(3),t="You've found a scissors under the plant."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup3=WA.ui.openPopup("eastereggScissorsPopup3",t,r),this.triggerEnterSubscriber3.unsubscribe()},this.openPopup4=()=>{const e=this.foundScissors(4),t="You've found a scissors on the table."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup4=WA.ui.openPopup("eastereggScissorsPopup4",t,r),this.triggerEnterSubscriber4.unsubscribe()},this.openPopup5=()=>{const e=this.foundScissors(5),t="You've found a scissors on top of the veepee parcel."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup5=WA.ui.openPopup("eastereggScissorsPopup5",t,r),this.triggerEnterSubscriber5.unsubscribe()},this.openPopup6=()=>{const e=this.foundScissors(6),t="You've found a scissors on the couch."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup6=WA.ui.openPopup("eastereggScissorsPopup6",t,r),this.triggerEnterSubscriber6.unsubscribe()},this.openPopup7=()=>{const e=this.foundScissors(7),t="You've found a scissors in the meeting room."+this.getScissorsMissingMessage(e),r=this.getPopupButtons();this.popup7=WA.ui.openPopup("eastereggScissorsPopup7",t,r),this.triggerEnterSubscriber7.unsubscribe()},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closeAllPopups=()=>{this.popup1&&this.popup1.close(),this.popup2&&this.popup2.close(),this.popup3&&this.popup3.close(),this.popup4&&this.popup4.close(),this.popup5&&this.popup5.close(),this.popup6&&this.popup6.close(),this.popup7&&this.popup7.close()},this.foundScissors=e=>(this.scissorsFound[e]=!0,Object.keys(this.scissorsFound).length-Object.values(this.scissorsFound).filter((e=>e)).length),this.getScissorsMissingMessage=e=>e?`\n${e} are still missing.`:(this.solutionStatus.foundScissors(),s.EasterreggSound.play(),"\nCongratulations!\nYou've found an easteregg all scissors. Good work!"),this.solutionStatus=e,this.triggerEnterSubscriber1=WA.room.onEnterLayer(this.triggerId1).subscribe(this.openPopup1),this.triggerLeaveSubscriber1=WA.room.onLeaveLayer(this.triggerId1).subscribe(this.closeAllPopups),this.triggerEnterSubscriber2=WA.room.onEnterLayer(this.triggerId2).subscribe(this.openPopup2),this.triggerLeaveSubscriber2=WA.room.onLeaveLayer(this.triggerId2).subscribe(this.closeAllPopups),this.triggerEnterSubscriber3=WA.room.onEnterLayer(this.triggerId3).subscribe(this.openPopup3),this.triggerLeaveSubscriber3=WA.room.onLeaveLayer(this.triggerId3).subscribe(this.closeAllPopups),this.triggerEnterSubscriber4=WA.room.onEnterLayer(this.triggerId4).subscribe(this.openPopup4),this.triggerLeaveSubscriber4=WA.room.onLeaveLayer(this.triggerId4).subscribe(this.closeAllPopups),this.triggerEnterSubscriber5=WA.room.onEnterLayer(this.triggerId5).subscribe(this.openPopup5),this.triggerLeaveSubscriber5=WA.room.onLeaveLayer(this.triggerId5).subscribe(this.closeAllPopups),this.triggerEnterSubscriber6=WA.room.onEnterLayer(this.triggerId6).subscribe(this.openPopup6),this.triggerLeaveSubscriber6=WA.room.onLeaveLayer(this.triggerId6).subscribe(this.closeAllPopups),this.triggerEnterSubscriber7=WA.room.onEnterLayer(this.triggerId7).subscribe(this.openPopup7),this.triggerLeaveSubscriber7=WA.room.onLeaveLayer(this.triggerId7).subscribe(this.closeAllPopups)}}},208:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReadmeEastercodeTrigger=void 0,t.ReadmeEastercodeTrigger=class{constructor(){this.triggerId="trigger/readmeEastercodeTrigger",this.openPopup=()=>{const e=`Hello ${WA.player.name}!\n We've hidden 6 eastereggs in these rooms. The eastereggs can be objects and combinations which you've to find. After that you'll receive your elevator access code.\n\nThe afterwork event on the rooftop is already prepared for you!`,t=this.getPopupButtons();this.popup=WA.ui.openPopup("readmeEastercodePopup",e,t)},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closePopup=()=>{this.popup.close()},this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closePopup)}}},645:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SolutionEastercodeTrigger=void 0,t.SolutionEastercodeTrigger=class{constructor(e){this.triggerId="trigger/solutionEastercodeTrigger",this.openPopup=()=>{const e=`${WA.player.name}, your elevator access code is:\n${this.solutionStatus.getSolutionNumbers().join(" ")}`,t=this.getPopupButtons();this.popup=WA.ui.openPopup("solutionEastercodePopup",e,t)},this.getPopupButtons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closePopup=()=>{this.popup.close()},this.solutionStatus=e,this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closePopup)}}},306:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SurrenderEastercodeTrigger=void 0,t.SurrenderEastercodeTrigger=class{constructor(e){this.triggerId="trigger/surrenderEastercodeTrigger",this.openPopup1=()=>{const e=`Do you really want to give up, ${WA.player.name}?`,t=this.getPopup1Buttons();this.popup1=WA.ui.openPopup("surrenderEastercodePopup",e,t)},this.openPopup2=()=>{const e=this.getPopup2Buttons();this.popup1=WA.ui.openPopup("surrenderEastercodePopup","Are you really sure?",e)},this.openPopup3=()=>{const e=this.getPopup3Buttons();this.popup1=WA.ui.openPopup("surrenderEastercodePopup","Well. You can go to the computer to get your access code to the elevator.",e),this.solutionStatus.solveAll()},this.getPopup1Buttons=()=>[{label:"No",className:"primary",callback:e=>e.close()},{label:"Yes",className:"primary",callback:e=>{e.close(),this.openPopup2()}}],this.getPopup2Buttons=()=>[{label:"No",className:"primary",callback:e=>e.close()},{label:"Yes",className:"primary",callback:e=>{e.close(),this.openPopup3()}}],this.getPopup3Buttons=()=>[{label:"Okay",className:"primary",callback:e=>e.close()}],this.closeAllPopups=()=>{this.popup1&&this.popup1.close(),this.popup2&&this.popup2.close(),this.popup3&&this.popup3.close()},this.solutionStatus=e,this.triggerEnterSubscriber=WA.room.onEnterLayer(this.triggerId).subscribe(this.openPopup1),this.triggerLeaveSubscriber=WA.room.onLeaveLayer(this.triggerId).subscribe(this.closeAllPopups)}}}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=r(910),t=r(521),s=r(24);console.log("Script started successfully"),WA.onInit().then((()=>{console.log("Scripting API ready"),t.Barcelone.mapIsLoaded()&&new t.Barcelone,s.BarceloneRooftop.mapIsLoaded()&&new s.BarceloneRooftop,(0,e.bootstrapExtra)().then((()=>{console.log("Scripting API Extra ready")})).catch((e=>console.error(e)))})).catch((e=>console.error(e)))})()})();
//# sourceMappingURL=script.js.map